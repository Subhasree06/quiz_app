<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Quiz App - Results</title>
<style>
  :root {
    --bg: linear-gradient(145deg, #654ea3, #eaafc8);
    --card: #ffffff22;
    --accent: #8e2de2;
    --success: #22c55e;
    --text: #fff;
  }
  html, body {
    height: 100%;
    margin: 0;
    font-family: 'Segoe UI', Roboto, Inter, Arial, sans-serif;
    background: var(--bg);
    display: flex;
    flex-direction: column;
  }
  .navbar {
    background: rgba(0,0,0,0.3);
    backdrop-filter: blur(10px);
    padding: 14px 24px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: #fff;
    box-shadow: 0 4px 12px rgba(0,0,0,0.4);
  }
  .nav-links {
    display: flex;
    gap: 20px;
  }
  .nav-links a {
    color: #fff;
    text-decoration: none;
    font-weight: 600;
  }
  .nav-links a:hover {
    text-decoration: underline;
  }
  .container { flex:1; padding:30px; display:flex; flex-direction:column; gap:20px; }
  .card { background: var(--card); backdrop-filter: blur(12px); padding: 20px; border-radius: 18px; box-shadow: 0 6px 18px rgba(0,0,0,0.4); color: #fff; }
  .card h2 { margin:0 0 12px; font-size:20px; }
  .card p { font-size:14px; color:#eee; }
</style>
</head>
<body>
<header class="navbar">
  <div class="logo"><strong>Quiz App</strong></div>
  <nav class="nav-links">
    <a href="home.html">🏠 Home</a>
    <a href="create.html">📝 Create</a>
    <a href="take-quiz.html">▶ Take Quiz</a>
    <a href="results.html">📊 Results</a>
    <a href="leaderboard.html">🏆 Leaderboard</a>
    <a href="profile.html">👤 Profile</a>
    <a href="#" id="logoutBtn">🚪 Logout</a>
    <span class="toggle" id="themeToggle">🌙 Dark Mode</span>
  </nav>
</header>
<main class="container">
  <div class="card">
    <h2>Past Quiz Results</h2>
    <ul id="resultsList"></ul>
  </div>
</main>
<script>
const loggedInEmail = localStorage.getItem('quiz_logged_in');
if(!loggedInEmail){ alert('Please login first!'); window.location.href='index.html'; }

// Logout
document.getElementById('logoutBtn').addEventListener('click', e=>{
  e.preventDefault();
  localStorage.removeItem('quiz_logged_in');
  alert('Logged out successfully!');
  window.location.href='index.html';
});

// Theme toggle
const themeToggle = document.getElementById('themeToggle');
let darkMode = true;
themeToggle.addEventListener('click', () => {
  darkMode = !darkMode;
  if(darkMode){ document.body.style.background = "linear-gradient(145deg, #654ea3, #eaafc8)"; themeToggle.textContent="🌙 Dark Mode"; }
  else { document.body.style.background = "linear-gradient(145deg, #fbc2eb, #a6c1ee)"; themeToggle.textContent="☀ Light Mode"; }
});

// Load results
const resultsList = document.getElementById('resultsList');
const allResults = JSON.parse(localStorage.getItem('quiz_results') || '[]');
allResults.forEach(r => {
  const li = document.createElement('li');
  li.textContent = `${r.quizTitle} - Score: ${r.score || 0}/${r.total || 10}`;
  resultsList.appendChild(li);
});
</script>
</body>
</html>
